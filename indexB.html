<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
    <title>Média Escolar</title>

    <link rel="stylesheet" href="style.css">

    <h1>WebApp Calculadora de Média Escolar</h1>
    <p>Este WebApp calcula as médias semestrais e a média final<br>
        para um aluno(a) que precisou de recuperação. <br>
        Para o cálculo das médias com aprovação direta, favor clicar nesse <a href="index.html">link</a>. <br>
        Qualquer dúvida, só seguir as <a href="help.html">instruções</a>.
    </p>
</head>
<body>
    <div id="tudo2">
            <div id="rec_sem">
                    <h2>MÉDIA - COM RECUPERAÇÃO </h2>
                    <form id="cr">
                    1ª Nota:<input type="tel" size="1" name="nota1" onclick="this.select()"><br><br> 
                    2ª Nota:<input type="tel" size="1" name="nota2" onclick="this.select()"><br><br>
                    3ª Nota:<input type="tel" size="1" name="nota3" onclick="this.select()"><br><br>
                    4ª Nota:<input type="tel" size="1" name="nota4" onclick="this.select()"><br><br>
                    <input style="font-family: Poiret One; font-weight: bold;" type="button" value="Calcular Médias" onclick="calc1()"><br> <br>
                    1º Semestre:<input type="tel" size="1" name="media_semestre1" onclick="this.select()"><br><br> 
                    2º Semestre:<input type="tel" size="1" name="media_semestre2" onclick="this.select()"><br><br>
                  
                    Recuperação 1º Semestre:<input type="tel" size="1" name="rec1" onclick="this.select()"><br><br>
                    Recuperação 2º Semestre:<input type="tel" size="1" name="rec2" onclick="this.select()"><br><br>
                    <input style="font-family: Poiret One; font-weight: bold;" type="button" value="Calcular Médias com Recuperação" onclick="calcR()"><br><br>
                    1º Semestre com Recuperação:<input type="tel" size="1" name="medRec1" onclick="this.select()"><br><br>
                    2º Semestre com Recuperação:<input type="tel" size="1" name="medRec2" onclick="this.select()"><br><br>
                    <em style="background-color: grey;">Média Final:</em><input type="tel" size="1" name="mediafinal">
                    </form>
            
                <script type="text/javascript">
                    function calc1(){
                        var nota1 = parseFloat(document.getElementsByName("nota1")[0].value);
                        var nota2 = parseFloat(document.getElementsByName("nota2")[0].value);
                        var nota3 = parseFloat(document.getElementsByName("nota3")[0].value);
                        var nota4 = parseFloat(document.getElementsByName("nota4")[0].value);
                        var calcmedia_semestre1 = (nota1 + nota2)/2
                        var calcmedia_semestre2 = (nota3 + nota4)/2
                        var calcmedia_final = (calcmedia_semestre1 + calcmedia_semestre2)/2
                        document.getElementsByName("media_semestre1")[0].value = calcmedia_semestre1.toFixed(2);
                        document.getElementsByName("media_semestre2")[0].value = calcmedia_semestre2.toFixed(2);
                    }
                    function calcR(){
                        var nota1 = parseFloat(document.getElementsByName("nota1")[0].value);
                        var nota2 = parseFloat(document.getElementsByName("nota2")[0].value);
                        var calcmedia_semestre1 = (nota1 + nota2)/2
                        if(calcmedia_semestre1 >= 5.0){
                            alert("Repetir 1ª Média Semestral na Recuperação 1ª Semestre.");
                        }         
                        document.getElementsByName("media_semestre1")[0].value = calcmedia_semestre1.toFixed(2);
                       
                        
                        var rec1 = parseFloat(document.getElementsByName("rec1")[0].value);
                        if (rec1 < calcmedia_semestre1){
                            alert("Nota da Recuperação menor que a Média: descartar Recuperação e repetir 1ª Média Semestral.");
                        }
                        var rec_semestre1 = (calcmedia_semestre1 + rec1)/2 
                        document.getElementsByName("medRec1")[0].value = rec_semestre1.toFixed(2);
                        
                        var nota3 = parseFloat(document.getElementsByName("nota3")[0].value);
                        var nota4 = parseFloat(document.getElementsByName("nota4")[0].value);
                        var calcmedia_semestre2 = (nota3 + nota4)/2
                        if(calcmedia_semestre2 >= 5.0){
                            alert("Repetir 2ª Média Semestral na Recuperação 2ª Semestre.");
                        }   
                        document.getElementsByName("media_semestre2")[0].value = calcmedia_semestre2.toFixed(2)
                       
                        
                        var rec2 = parseFloat(document.getElementsByName("rec2")[0].value);
                        if (rec2 < calcmedia_semestre2){
                            alert("Nota da Recuperação menor que a Média: descartar Recuperação e repetir 2ª Média Semestral.");
                        }
                        var rec_semestre2 = (calcmedia_semestre2 + rec2)/2 
                        document.getElementsByName("medRec2")[0].value = rec_semestre2.toFixed(2);
                        
            
                        if (calcmedia_semestre1 < 5 && calcmedia_semestre2 >=5){
                            var medFinalR1 = (rec_semestre1 + calcmedia_semestre2)/2 
                            document.getElementsByName("mediafinal")[0].value = medFinalR1.toFixed(2)
                        } 
                        else if (calcmedia_semestre2 < 5 && calcmedia_semestre1 >= 5){
                            var medFinalR2 = (calcmedia_semestre1 + rec_semestre2)/2
                            document.getElementsByName("mediafinal")[0].value = medFinalR2.toFixed(2)
                        }
                        else if (calcmedia_semestre1 < 5 && calcmedia_semestre2 < 5){
                            var medFinalR3 = (rec_semestre1 + rec_semestre2)/2
                            document.getElementsByName("mediafinal")[0].value = medFinalR3.toFixed(2)
                        }
                        else if(calcmedia_semestre1 >= 5 && calcmedia_semestre2 < 5){
                            var medFinalR4 = (rec_semestre1 + rec_semestre2)/2
                            document.getElementsByName("mediafinal")[0].value = mediaFinalR4.toFixed(2)
                        }
                        
            
                    }
                </script>
            </div>
    </div>
    
    <div id="footer">
            &copy; 2019, Calculadora de Média Escolar
            <br>
            concebida e desenvolvida por <a href="help.html">Jovane Rocha</a>.
          </div>
        </div>
    
    </body>
    
    </html>
</body>
</html>